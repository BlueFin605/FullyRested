<div class="menubar">
  <button mat-button [matMenuTriggerFor]="menu">File</button>
  <mat-menu #menu="matMenu">
    <button mat-menu-item (click)="openSolution()">Open Solution</button>
    <button mat-menu-item [matMenuTriggerFor]="recentSolutions">Open Recent</button>
    <button mat-menu-item>Save Solution</button>
    <button mat-menu-item (click)="closeSolution()">Close Solution</button>
    <mat-divider></mat-divider>
    <button mat-menu-item (click)="newRequest()">New Request</button>
    <button mat-menu-item (click)="saveRequest()">Save</button>
    <button mat-menu-item (click)="saveAsRequest()">Save As</button>
  </mat-menu>

  <mat-menu #recentSolutions>
    <button mat-menu-item (click)="openSoution(item)" *ngFor="let item of state.recentSolutions">
      {{ item.name }}
    </button>
  </mat-menu>
</div>

<div class="explorer">
  <app-solution-explorer [solution]="solution"></app-solution-explorer>
</div>

<div class="opendocuments">
  <mat-tab-group animationDuration="0ms" #tabs>
    <mat-tab *ngFor="let action of currentSession().actions" labelClass='dirty'>
      <ng-template mat-tab-label>
        <mat-icon class="dirty" *ngIf="action.dirty == true">circle</mat-icon>
        <label [matTooltip]="action.fullFilename">{{action.action.name}}</label>
        <button class="remove_button" mat-icon-button (click)="removeAction(action.action.id)">
          <mat-icon class="remove_icon">cancel</mat-icon>
        </button>
      </ng-template>
      <app-rest-action [(action)]=action.action [fullFilename]="action.fullFilename" (actionChange)="onActionChange(action)" (dirtyChange)="onDirtyChange(action,$event)"></app-rest-action>
    </mat-tab>

    <mat-tab class="add_tab" disabled>
      <ng-template mat-tab-label>
        <button class="add_button" mat-icon-button (click)="addAction($event)">
          <mat-icon class="add_icon">add_circle</mat-icon>
        </button>
      </ng-template>
    </mat-tab>
  </mat-tab-group>
</div>